<!DOCTYPE html>
<html>
  <head>
    <!-- Agrega los estilos de Plyr -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.4/plyr.css" />
    <style>
      /* Asegura que el reproductor ocupe toda la pantalla */
      .plyr {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <!-- Reproductor de video -->
    <video controls crossorigin playsinline id="player" class="plyr">
      <source src="" type="video/mp4" />
      Tu navegador no soporta la reproducción de videos.
    </video>

    <!-- Agrega el script de Plyr -->
    <script src="https://cdn.plyr.io/3.6.4/plyr.js"></script>

    <script>
	

      // Configuración del reproductor Plyr
      const player = new Plyr('#player', {
        // Opciones adicionales si las necesitas
      });

      // Realiza una solicitud HTTP para obtener los datos JSON desde la URL
      fetch("https://api.streamwish.com/api/file/direct_link?key=8713pppo4fjzj6zx4slg&file_code=syoxew2z8p9g")
        .then(response => response.json())
        .then(data => {
          // Selecciona la URL del video que deseas reproducir (por ejemplo, la URL con name "n")
          var videoURL = data.result.versions[0].url;

          // Configura la fuente del video
          const source = document.querySelector('#player source');
          source.setAttribute('src', videoURL);

          // Actualiza el reproductor para que cargue el nuevo video
          player.source = {
            type: 'video',
            sources: [{
              src: videoURL,
              type: 'video/mp4',
            }],
          };

          // Reproduce el video
          player.play();
        })
        .catch(error => {
          console.error("Error al obtener los datos de la URL: ", error);
        });

	alert("Espere mientras cargamos el contenido, no tardaremos mucho");
    </script>
  </body>
</html>
